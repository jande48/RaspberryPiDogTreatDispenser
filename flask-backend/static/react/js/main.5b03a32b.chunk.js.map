{"version":3,"sources":["tedi.jpeg","logo.svg","App.js","reportWebVitals.js","index.js"],"names":["App","useState","treatStatus","setTreatStatus","pickle","setPickle","Date","timeUser","setTimeUser","treatFrequency","setTreatFrequency","scheduledDispenseTreats","setScheduledDispenseTreats","setVideoPathsPickle","presignedAWSvideoURL","setPresignedAWSvideoURL","useEffect","axios","get","then","res","data","catch","err","console","log","setNewPickle","newPickleAPI","post","handleRemoveTime","e","newPickle","splice","target","name","className","class","src","tedi","alt","onClick","id","key","onChange","value","inverted","placeholder","options","text","today","push","parseInt","getFullYear","getMonth","getDate","map","itm","index","freq","time","length","url","width","height","controls","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iMAAe,GCAA,IDAA,IAA0B,4B,yFEqR1BA,MA/Pf,WAAgB,IAAD,EACyBC,mBAAS,WADlC,mBACNC,EADM,KACOC,EADP,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAG4BJ,mBAAS,IAAIK,MAHzC,gCAImBL,mBAAS,UAJ5B,mBAINM,EAJM,KAIIC,EAJJ,OAK+BP,mBAAS,SALxC,mBAKNQ,EALM,KAKUC,EALV,OAMiDT,mBAAS,IAN1D,mBAMNU,EANM,KAMmBC,EANnB,OAOkCX,mBAAS,IAP3C,mBAOWY,GAPX,aAQ2CZ,mBAAS,IARpD,mBAQNa,EARM,KAQgBC,EARhB,KAYbC,qBAAU,WACRb,EAAe,WACfc,IAAMC,IAAI,cAAcC,MACtB,SAAAC,GACEf,EAAUe,EAAIC,MACdR,EAAoBO,EAAIC,KAAJ,kBACpBT,EAA2BQ,EAAIC,KAAJ,4BAE7BC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAC3BN,IAAMC,IAAI,oBAAoBC,MAC5B,SAAAC,GACEL,EAAwBK,EAAIC,SAE9BC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC3B,CAACrB,IAMH,IAsBMwB,EAAe,SAACC,GACpBV,IAAMW,KAAK,aAAaD,GAAcR,MACpC,SAAAC,GACEf,EAAUe,EAAIC,MACdR,EAAoBO,EAAIC,KAAJ,kBACpBT,EAA2BQ,EAAIC,KAAJ,4BAE7BC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OA2BvBM,EAAmB,SAACC,GAExB,IAAMC,EAAS,eAAO3B,GACtB2B,EAAS,wBAA4BC,OAAOF,EAAEG,OAAOC,KAAK,GAC1DR,EAAaK,IA2Bf,OACE,qBAAKI,UAAU,MAAf,SACE,sBAAKC,MAAM,YAAX,UACE,qBAAKC,IAAKC,EAAMC,IAAI,SACL,cAAbrC,EACA,6EAGA,wBAAQkC,MAAM,mBAAmBI,QA/FhB,WACvBrC,EAAe,cAEfc,IAAMW,KAAK,aAAa,CAACa,GAAI,YAAYtB,MACvC,SAAAC,GACsB,WAAhBA,EAAIC,KAAKqB,KACXvC,EAAe,aACfc,IAAMC,IAAI,cAAcC,MACtB,SAAAC,GACEf,EAAUe,EAAIC,MACdR,EAAoBO,EAAIC,KAAJ,kBACpBT,EAA2BQ,EAAIC,KAAJ,4BAE7BC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAG3BpB,EAAe,cAGnBmB,OAAM,SAAAC,GAAQpB,EAAe,eA4EzB,gCAGF,oBAAIiC,MAAM,qBAAV,gCACA,sBAAKA,MAAM,+BAAX,UACE,qBAAKA,MAAM,mBAAX,SACE,wBAAQA,MAAM,mBAAmBI,QArEnB,WACtB,IAAMT,EAAS,eAAO3B,GAClB2B,EAAS,qBAA2B,IACtCA,EAAS,sBAA4B,EACrCL,EAAaK,KAiEP,iBAEF,qBAAKK,MAAM,mBAAX,SACE,6BAAK,GAAGhC,EAAM,yBAEhB,qBAAKgC,MAAM,mBAAX,SACE,wBAAQA,MAAM,mBAAmBI,QAlEnB,WACtB,IAAMT,EAAS,eAAO3B,GACtB2B,EAAS,sBAA4B,EACrCL,EAAaK,IA+DL,oBAGJ,oBAAIK,MAAM,qBAAV,8BACA,sBAAKA,MAAM,6BAAX,UACE,qBAAKA,MAAM,uBAAX,SACE,cAAC,IAAD,CACIO,SAAUnC,EACVoC,MAAOrC,EACPsC,UAAQ,MAGd,qBAAKT,MAAM,uBAAX,SACE,cAAC,IAAD,CACEU,YAAY,QACZH,SAtEkB,SAACb,GAC7BpB,EAAkBoB,EAAEc,QAsEVG,QAAS,CAAC,CAACL,IAAI,QAAQM,KAAK,QAAQJ,MAAM,SAAS,CAACF,IAAI,WAAWM,KAAK,WAAWJ,MAAM,YAAY,CAACF,IAAI,WAAWM,KAAK,WAAWJ,MAAM,iBAG/I,qBAAKR,MAAM,uBAAX,SACE,wBAAQA,MAAM,kBAAkBI,QAjFhB,WACxB,IAAMT,EAAS,eAAO3B,GAChB6C,EAAQ,IAAI3C,KAClByB,EAAS,wBAA4BmB,KAAK,CAAC,KAAO3C,EAAS,KAAOE,EAAe,cAAgB,CAAC0C,SAASF,EAAMG,eAAeD,SAASF,EAAMI,WAAW,GAAGF,SAASF,EAAMK,cAC5K5B,EAAaK,IA6EL,2BAGJ,oBAAIK,MAAM,mBAAV,8BA4BGzB,EAAwB4C,KAAI,SAACC,EAAKC,GAAN,OAC3B,8BACA,sBAAKrB,MAAM,8BAAX,UACE,qBAAKA,MAAM,wBAAX,SACE,+BAAKoB,EAAIE,KAAT,IAAgBF,EAAIG,UAEtB,qBAAKvB,MAAM,wBAAX,SACE,wBAAQA,MAAM,gBAAgBI,QAASX,EAAkBK,KAAMuB,EAA/D,8BAMN,8BACE,wBAAQrB,MAAM,gBAAgBI,QAzGV,SAACV,GAC7B,IAAMC,EAAS,eAAO3B,GACtB2B,EAAS,iBAAuB,EAChCL,EAAaK,IAsGL,kCAEiC,qBAA1BjB,GAAyCA,EAAqB8C,OAAS,EAChF,qBAAKxB,MAAM,gBAAX,SACI,cAAC,IAAD,CAEEyB,IAAK/C,EAAqB,GAC1BgD,MAAM,OACNC,OAAO,OACPC,SAAS,WAGP,SClOHC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhD,MAAK,YAAkD,IAA/CiD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"js/main.5b03a32b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"media/tedi.d161a6e6.jpeg\";","export default __webpack_public_path__ + \"media/logo.6ce24c58.svg\";","import logo from './logo.svg';\nimport tedi from './tedi.jpeg';\n\n//import { Button, Image, Header, Divider, Grid, Dropdown } from 'semantic-ui-react';\nimport Dropdown from 'react-dropdown'\nimport 'react-dropdown/style.css'\nimport './App.css';\nimport axios from 'axios';\nimport {useState,useEffect} from 'react';\nimport TimePicker from 'react-time-picker';\nimport ReactPlayer from 'react-player'\n\n// function importAll(contextLoader) {\n//   let videos = []\n//   contextLoader.keys().map((id,index) => videos.push(contextLoader(id)) );\n//   return videos\n// }\n\n// const contextLoader = require.context('./videos', true, /\\.mp4/);\n// const videoPaths = importAll(contextLoader);\n\n\nfunction App() {\n  const [treatStatus, setTreatStatus] = useState(\"waiting\")\n  const [pickle, setPickle] = useState({})\n  const [selectedDate, handleDateChange] = useState(new Date());\n  const [timeUser, setTimeUser] = useState('10:00');\n  const [treatFrequency, setTreatFrequency] = useState('Today')\n  const [scheduledDispenseTreats, setScheduledDispenseTreats] = useState([])\n  const [videoPathsPickle,setVideoPathsPickle] = useState([])\n  const [presignedAWSvideoURL, setPresignedAWSvideoURL] = useState([])\n\n\n\n  useEffect(() => {\n    setTreatStatus(\"waiting\")\n    axios.get('/getPickle').then(\n      res => {\n        setPickle(res.data)\n        setVideoPathsPickle(res.data['video']['videoPaths'])\n        setScheduledDispenseTreats(res.data['scheduledDispenseTreats'])\n      }\n    ).catch(err => console.log(err))\n    axios.get('/getPresignedURL').then(\n      res => {\n        setPresignedAWSvideoURL(res.data)\n      }\n    ).catch(err => console.log(err))\n  },[treatStatus])\n\n  \n\n\n\n  const handleTreatClick = () => {\n    setTreatStatus(\"dispensing\")\n\n    axios.post('/giveTreat',{id: 'success'}).then(\n      res => {\n        if (res.data.key == 'success') {\n          setTreatStatus(\"dispensed\")\n          axios.get('/getPickle').then(\n            res => {\n              setPickle(res.data)\n              setVideoPathsPickle(res.data['video']['videoPaths'])\n              setScheduledDispenseTreats(res.data['scheduledDispenseTreats'])\n            }\n          ).catch(err => console.log(err))\n\n        }else{\n          setTreatStatus(\"problem\")\n        }\n        }\n    ).catch(err => {setTreatStatus(\"problem\")})\n  }\n\n  const setNewPickle = (newPickleAPI) => {\n    axios.post('/setPickle',newPickleAPI).then(\n      res => {\n        setPickle(res.data)\n        setVideoPathsPickle(res.data['video']['videoPaths'])\n        setScheduledDispenseTreats(res.data['scheduledDispenseTreats'])\n      }\n    ).catch(err => console.log(err))\n  }\n\n  const handleDecrement = () => {\n    const newPickle = {...pickle}\n    if (newPickle[\"maxNumOfTreatsPerDay\"] > 0){\n      newPickle[\"maxNumOfTreatsPerDay\"] -= 1\n      setNewPickle(newPickle)\n    }\n    \n    \n  }\n  const handleIncrement = () => {\n    const newPickle = {...pickle}\n    newPickle[\"maxNumOfTreatsPerDay\"] += 1\n    setNewPickle(newPickle)\n  }\n  const handleScheduleAdd = () => {\n    const newPickle = {...pickle}\n    const today = new Date()\n    newPickle['scheduledDispenseTreats'].push({'time':timeUser,'freq':treatFrequency,'scheduledDate':[parseInt(today.getFullYear()),parseInt(today.getMonth()+1),parseInt(today.getDate())]})\n    setNewPickle(newPickle)\n  }\n  const handleTreatFreqChange = (e) => {\n    setTreatFrequency(e.value)\n  }\n    \n  const handleRemoveTime = (e) => {\n\n    const newPickle = {...pickle}\n    newPickle['scheduledDispenseTreats'].splice(e.target.name,1)\n    setNewPickle(newPickle)\n  }\n  // const handleRemoveTime = (e, {key}) => {\n  //   const newPickle = {...pickle}\n  //   newPickle['scheduledDispenseTreats'].splice(key,1)\n  //   setNewPickle(newPickle)\n  // }\n  const handleResetTreatClick = (e) => {\n    const newPickle = {...pickle}\n    newPickle[\"treatsGivenToday\"] = 0\n    setNewPickle(newPickle)\n  }\n \n  const handleRemoveVideo = (e) => {\n    const newVideoPaths = [...videoPathsPickle]\n    newVideoPaths.splice(e.target.name,1)\n    axios.post('/removeVideo',{\"index\":e.target.name}).then(\n      res => {\n        setPickle(res.data)\n        setVideoPathsPickle(res.data['video']['videoPaths'])\n        // let contextLoader = require.context('./videos', true, /\\.mp4/);\n        // setVideoPaths(importAll(contextLoader));\n        // console.log(res.data)\n      }\n    ).catch(err => console.log(err))\n  }\n\n  return (\n    <div className=\"App\">\n      <div class=\"container\">\n        <img src={tedi} alt=\"Tedi\"/>\n        { treatStatus=='dispensing' ?\n          <h2>... Dispensing Treat ... Recording Video ..</h2>\n          \n        :\n          <button class=\"big-treat-button\" onClick={handleTreatClick}>Give Tedi a Treat!</button>\n        }\n        \n        <h1 class=\"max-treats-per-day\">Max Treats Per Day</h1>\n        <div class=\"max-treats-flexbox-container\">\n          <div class=\"max-treats-box-1\">\n            <button class=\"big-treat-button\" onClick={handleDecrement}>-</button>\n          </div>\n          <div class=\"max-treats-box-2\">\n            <h1>{''+pickle[\"maxNumOfTreatsPerDay\"]+''}</h1>\n          </div>\n          <div class=\"max-treats-box-1\">\n            <button class=\"big-treat-button\" onClick={handleIncrement}>+</button>\n          </div>\n        </div>\n        <h1 class=\"max-treats-per-day\">Schedule a Treat</h1>\n        <div class=\"schedule-flexbox-container\">\n          <div class=\"schedule-treat-box-1\">\n            <TimePicker\n                onChange={setTimeUser}\n                value={timeUser}\n                inverted\n              />\n          </div>\n          <div class=\"schedule-treat-box-2\">          \n            <Dropdown\n              placeholder='Today'\n              onChange={handleTreatFreqChange}\n              options={[{key:'Today',text:'Today',value:\"Today\"},{key:'Tomorrow',text:'Tomorrow',value:\"Tomorrow\"},{key:'Everyday',text:'Everyday',value:\"Everyday\"}]}\n            />\n          </div>\n          <div class=\"schedule-treat-box-3\">\n            <button class=\"schedule-button\" onClick={handleScheduleAdd}>Schedule</button>\n          </div>\n        </div>\n        <h1 class=\"scheduled-treats\">Scheduled Treats</h1>\n{/*         \n        {typeof(pickle['scheduledDispenseTreats']) !== 'undefined' ? pickle['scheduledDispenseTreats'].length > 0 ?\n        pickle['scheduledDispenseTreats'].map((itm, i) => (\n          \n          <div class=\"scheduled-flexbox-container\">  \n              <div class=\"scheduled-treat-box-1\">\n                <h2>{itm.freq} {itm.time}</h2> \n              </div>\n              <div class=\"scheduled-treat-box-2\">\n                <button class=\"remove-button\" onClick={handleRemoveTime} name={i}>Remove</button>\n              </div>  \n            </div>\n        ))\n      :'':''} */}\n        {/* {typeof(pickle['scheduledDispenseTreats']) !== 'undefined' ? pickle['scheduledDispenseTreats'].length > 0 ?\n          pickle['scheduledDispenseTreats'].map((itm, i) => (\n            <div class=\"scheduled-flexbox-container\">  \n              <div class=\"scheduled-treat-box-1\">\n                <h2>{itm.freq} {itm.time}</h2> \n              </div>\n              <div class=\"scheduled-treat-box-2\">\n                <button class=\"remove-button\" onClick={handleRemoveTime} key={i}>Remove</button>\n              </div>  \n            </div>\n          ))\n        :'':''} */}\n        \n          {scheduledDispenseTreats.map((itm, index) => (\n            <div>\n            <div class=\"scheduled-flexbox-container\">\n              <div class=\"scheduled-treat-box-1\">\n                <h2>{itm.freq} {itm.time}</h2>\n              </div>\n              <div class=\"scheduled-treat-box-2\">\n                <button class=\"remove-button\" onClick={handleRemoveTime} name={index}>Remove</button>\n              </div> \n            </div>\n            </div>\n          ))}\n        \n          <div>\n            <button class=\"remove-button\" onClick={handleResetTreatClick}>Reset Treats Today</button>\n          </div>\n          { typeof(presignedAWSvideoURL) !== 'undefined'  ? presignedAWSvideoURL.length > 0 ?\n          <div class=\"playerWrapper\">\n              <ReactPlayer\n                //className='react-player fixed-bottom'\n                url={presignedAWSvideoURL[0]}\n                width='100%'\n                height='100%'\n                controls='true'\n              />\n            </div>\n            : '' :'' }\n          {/* { typeof(presignedAWSvideoURL) !== 'undefined'  ? presignedAWSvideoURL.length > 0 ?\n            presignedAWSvideoURL.map((itm,index) => (\n            <div>\n            <div class=\"playerWrapper\">\n              <ReactPlayer\n                //className='react-player fixed-bottom'\n                url={itm}\n                width='100%'\n                height='100%'\n                controls='true'\n              />\n            </div>\n            <div class=\"remove-video-button-box\">\n              <button class=\"remove-button\" onClick={handleRemoveVideo} name={index}>Delete Video</button>\n            </div> \n            </div>\n            ))\n          \n          : '' : ''} */}\n{/* \n          <div class=\"playerWrapper\">\n              <ReactPlayer\n                //className='react-player fixed-bottom'\n                url={'/var/www/piApp/react-frontend/src/videos/Tedi3.mp4'}\n                width='100%'\n                height='100%'\n                controls='true'\n              />\n            </div>\n           */}\n          \n          \n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n//import 'semantic-ui-css/semantic.min.css'\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}